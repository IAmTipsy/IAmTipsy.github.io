<!DOCTYPE html>
<html>
<head>
    <title>Simple Leaflet Map with Heatmap </title>
    <script type="text/javascript" src="../../d3/d3.js"></script>
    <meta charset="utf-8" />
    <link 
        rel="stylesheet" 
        href="http://cdn.leafletjs.com/leaflet-0.7/leaflet.css"
    />
</head>
<body>
    <div id="map" style="width: 600px; height: 400px"></div>

    <script
       src="http://cdn.leafletjs.com/leaflet-0.7/leaflet.js">
    </script>
    
    <script
       src="http://leaflet.github.io/Leaflet.heat/dist/leaflet-heat.js">
    </script>
  <script>
      
      var heatmapData = [];
        d3.csv("Fartkontroller_sjaelland_6mdr.csv", function(dataIn) {
            //console.log(dataIn[0]["x"]);
            var dataset = dataIn;
            for (var key in dataset) {
                var x = dataset[key]["x"];
                var y = dataset[key]["y"];
                var size = dataset[key]["Bekr√¶ftelser"];
                heatmapData.push([x,y,size]);
         }

         var map = L.map('map').setView([55.747678,12.3772], 10);
        mapLink = 
            '<a href="http://openstreetmap.org">OpenStreetMap</a>';
        L.tileLayer(
            'http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '&copy; ' + mapLink + ' Contributors',
            maxZoom: 18,
        }).addTo(map);

        var heat = L.heatLayer(heatmapData,{
            radius: 10,
            blur: 10, 
            maxZoom: 17,
        }).addTo(map);

        })

  </script>
    <script>

        
        
        
    
    </script>
</body>
</html>